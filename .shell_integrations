#/usr/bin/env bash

# Powerline integration
if which powerline-daemon &> /dev/null; then
	if [[ $TERM == xterm-256color ]]; then
		powerline-daemon -q
		POWERLINE_BASH_CONTINUATION=1
		POWERLINE_BASH_SELECT=1
		source /usr/share/powerline/bindings/bash/powerline.sh
	fi
else
	echo_warn 'warning: powerline is not installed.'
	echo_advise '\e[3mRun ~/.dotfiles/install/konsole to install Konsole and other terminal goodies.\e[0m'
fi

# direnv Integration
if which direnv &> /dev/null; then
	eval "$(direnv hook bash)"
fi

# Go integration
if which go &> /dev/null; then
    export GOROOT=$HOME/.go
    export GOPATH=$HOME/Programming/Go
    export PATH=$PATH:$GOROOT/bin
fi

# CEdev integration
if [[ -e $HOME/.CEdev ]]; then
    export PATH=$PATH:$HOME/.CEdev/bin
fi

# .NET Tools integration
if [[ -e $HOME/.dotnet/tools ]]; then
	export PATH=$PATH:$HOME/.dotnet/tools
fi

# Microsoft SQL integration
if [[ -e /opt/mssql ]]; then
	export PATH=$PATH:/opt/mssql/bin
fi

# Microsoft SQL tools integration
if [[ -e /opt/mssql-tools ]]; then
	export PATH=$PATH:/opt/mssql-tools/bin
fi

# Hererocks integration
if [[ -e $HOME/.hererocks ]]; then
    export HEREROCKS=$HOME/.hererocks
fi

# Node Version Manager integration
if [[ -e $HOME/.nvm ]]; then
    export NVM_DIR="$HOME/.nvm"
    if [[ -s $NVM_DIR/nvm.sh ]]; then 
        source $NVM_DIR/nvm.sh
    fi
    if [[ -s $NVM_DIR/bash_completion ]]; then
        source $NVM_DIR/bash_completion
    fi
fi

# AngularJS integration
if which ng &> /dev/null; then
	source <(ng completion script)
fi

# Wine integration
if which wine &> /dev/null; then
    export WINEDLLOVERRIDES=winemenubuilder.exe=d
fi